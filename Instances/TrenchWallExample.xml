<?xml version="1.0" encoding="utf-8"?>
<Diggs xmlns="http://diggsml.org/schemas/3.0" xmlns:diggs="http://diggsml.org/schemas/3.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xlink="http://www.w3.org/1999/xlink"
  xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:g3.3="http://www.opengis.net/gml/3.3/ce"
  xmlns:glr="http://www.opengis.net/gml/3.3/lr" xmlns:glrov="http://www.opengis.net/gml/3.3/lrov"
  xmlns:diggs_geo="http://diggsml.org/schemas/3.0/geotechnical"
  xmlns:witsml="http://www.witsml.org/schemas/131"
  xsi:schemaLocation="http://diggsml.org/schemas/3.0 https://raw.githubusercontent.com/DIGGSml/schema-dev/refs/heads/3.0/Diggs.xsd"
  gml:id="TrenchwallExample">
  <documentInformation>
    <DocumentInformation gml:id="d1">
      <creationDate>2010-01-01</creationDate>
      <effectiveDate>2009-01-01</effectiveDate>
      <author>
        <BusinessAssociate gml:id="a23">
          <gml:name>Joe Blow</gml:name>
        </BusinessAssociate>
     </author>
      <sourceSoftware>
        <SoftwareApplication gml:id="sap1">
          <gml:name>GINT v.8</gml:name>
        </SoftwareApplication>
      </sourceSoftware>
    </DocumentInformation>
  </documentInformation>

  <project>
    <Project gml:id="p1">
      <gml:name>Test Project</gml:name>
      <!-- <gml:identifier codeSpace="usgs">urn:diggs:def:fi:USGS:usgs_p1</gml:identifier> -->
      <remark>
        <Remark>
          <content>This could be a virtual project that has no relevance outside of this
            instance</content>
        </Remark>
      </remark>
    </Project>
  </project>

  <samplingFeature>
    <TrenchWall gml:id="a22">
      <gml:identifier codeSpace="usgs">urn:diggs:def:fi:USGS:usgs_a22</gml:identifier>
      <gml:name>My trench</gml:name>
      <investigationTarget>Natural Ground</investigationTarget>
      <projectRef xlink:href="#p1"/>
      <referencePoint>
        <PointLocation gml:id="a34">
          <gml:pos srsName="https://www.opengis.net/def/crs-compound?1=http://www.opengis.net/def/crs/EPSG/0/26911%262=http://www.opengis.net/def/crs/EPSG/0/5703">387516.665116977
            3742645.12297961 5</gml:pos>
        </PointLocation>
      </referencePoint>
      <referenceEdge>
        <LinearExtent gml:id = "ply1_top" srsDimension="3" srsName="https://www.opengis.net/def/crs-compound?1=http://www.opengis.net/def/crs/EPSG/0/26911%262=http://www.opengis.net/def/crs/EPSG/0/5703">
          <gml:posList>387516.665116977 3742645.12297961 5 387546.665116977 3742685.12297961 5</gml:posList>
        </LinearExtent>
      </referenceEdge>
      <!-- Optional element in coordinate dimensions for feature. Leave out to test KML conversion for relative feature boundary
      <featureExtent>
        <gml:Polygon srsName="https://www.opengis.net/def/crs-compound?1=http://www.opengis.net/def/crs/EPSG/0/26911%262=http://www.opengis.net/def/crs/EPSG/0/5703" gml:id="ply2" srsDimension="3">
          <gml:exterior>
            <gml:LinearRing>
                  <gml:posList>33 -117 10 33.2 -117 10 33.2 -117.2 0 33 -117.2 0 33 -117 10</gml:posList>
            </gml:LinearRing>
          </gml:exterior>
        </gml:Polygon>
      </featureExtent>
      -->
      <relativeFeatureBoundary>
        <PlanarSurface srsDimension="2" srsName="#lsrs002" gml:id="ply1">
          <gml:exterior>
            <gml:LinearRing>
              <gml:posList>0 0 50 0 50 10 0 10 0 0</gml:posList>
            </gml:LinearRing>
          </gml:exterior>
        </PlanarSurface>
      </relativeFeatureBoundary>
      
      <planarReferencing>
        <VectorLinearSpatialReferenceSystem gml:id="lsrs002">
          <gml:identifier codeSpace="urn:x-diggs:def:authority:DIGGSINC"
            >urn:diggs:def:fi:DIGGSINC:lsrs002</gml:identifier>
          <glr:linearElement xlink:href="#ply1_top"/>
          <glr:lrm xlink:href="#lr123"/>
          <!-- from gmllr:LinearSRSType -->
          <!-- PwD 2015-04-14 restored; 2015-04-20 added offsetUom attribute -->
          <offsetVector srsName="urn:ogc:def:crs:EPSG::7405" offsetUom="m">0 0 -1</offsetVector>
          <!-- per revised VectorLinearSpatialReferenceSystemType in kernel.xsd to replace
               invalid glrovProfile_diggs.xsd profile of http://schemas.opengis.net/gml/3.3/linearRefOffwetVector.xsd 
               the only instance document difference is lack of glrov: namespace prefix on this element -->
          <linearReferencingMethodUncertainty>
            <LocationUncertainty gml:id="LocationUncertainty_cyx_jnj_ghc">
              <locationMethod>tape</locationMethod>
              <xValueUncertainty>
                <Uncertainty gml:id="oojoow">
                  <plusUncertaintyValue>0.1</plusUncertaintyValue>
                  <minusUncertaintyValue>0.1</minusUncertaintyValue>
                </Uncertainty>
              </xValueUncertainty>
            </LocationUncertainty>
          </linearReferencingMethodUncertainty>
        </VectorLinearSpatialReferenceSystem>
      </planarReferencing>
      
      <planarReferencing>
        <VectorLinearSpatialReferenceSystem gml:id="">
          <gml:identifier codeSpace=""></gml:identifier>
          <glr:linearElement></glr:linearElement>
          <glr:lrm></glr:lrm>
          <offsetVector></offsetVector>
        </VectorLinearSpatialReferenceSystem>
      </planarReferencing>
      
      <constructionMethod>
        <TrenchConstructionMethod gml:id="cm22">
          <gml:name>backhoe</gml:name>
          <remark>
            <Remark>
              <content>Backhoe was brand new and worked like a charm</content>
            </Remark>
          </remark>
        </TrenchConstructionMethod>
      </constructionMethod>
    </TrenchWall>
  </samplingFeature>

   <observation>

    <DiscontinuitySystem gml:id="lst1">
      <gml:name>Faults</gml:name>
      <projectRef xlink:href="#p1"/>
      <samplingFeatureRef xlink:href="#a22"/>
      <discontinuityType>fault</discontinuityType>
      <discontinuityObservation>
        <DiscontinuityObservation gml:id="flt-1">
          <location>
            <LinearExtent gml:id="twpl1" srsDimension="2" srsName="#lsrs002">
              <!-- The srsName value is defined above in the planarReferencing property -->
              <gml:posList>5 6 3 4 2 1</gml:posList>
            </LinearExtent>
          </location>
          <fractureObservation>
            <FractureObservation gml:id="fd-1">
              <gml:name>Fault A</gml:name>
              <type>normal fault</type>
            </FractureObservation>
          </fractureObservation>
        </DiscontinuityObservation>
      </discontinuityObservation>
    </DiscontinuitySystem>
   </observation>

<observation>
    <LithologySystem gml:id="lst_usc">
      <gml:name>Soils in trench wall</gml:name>
      <projectRef xlink:href="#p1"/>
      <samplingFeatureRef xlink:href="#a22" identifierRef="urn:diggs:def:fi:USGS:usgs_a22"/>
      <lithologyClassificationType>Soil                    x </lithologyClassificationType>
      <lithologyObservation>
        <LithologyObservation gml:id="lst-h1">
          <location>
            <PlanarObservationRepresentation gml:id="li-1">
              <layerTopIntersection>
                <LinearExtent gml:id="twp-int-11" srsDimension="2" srsName="#lsrs002">
                      <gml:posList>0 2 10 2.5 20 4 30 3 40 2 50 1</gml:posList>
                    </LinearExtent>
              </layerTopIntersection>
              <layerBaseIntersection>
                <LinearExtent gml:id="twp-int-12" srsDimension="2" srsName="#lsrs002">
                      <!--replace by posList with coordinate order reversed (to show use of OrientableCurve
                        <gml:posList srsDimension="2" srsName="#lsrs002">50 4 40 5 30 6 20 7 10
                        5.5 0 5</gml:posList>
                      -->
                   <gml:posList>0 5 10 5.5 20 7 30 6 40 5 50 4</gml:posList>
                    </LinearExtent>
            </layerBaseIntersection>
              <representativeSurface>
                <PlanarSurface gml:id="lt1-p">
                  <gml:exterior>
                    <gml:Ring>
                      <gml:curveMember xlink:href="#twp-int-11"/>
                      <!--Top edge -->
                      <gml:curveMember>
                        <gml:LineString gml:id="lt1-1">
                          <!--Right edge -->
                          <gml:posList srsDimension="2" srsName="#lsrs002">50 1 50 4</gml:posList>
                        </gml:LineString>
                      </gml:curveMember>
                      <gml:curveMember>
                        <gml:OrientableCurve gml:id="OC_twp-int-12" orientation="-">
                          <gml:baseCurve xlink:href="#twp-int-12"/>
                        </gml:OrientableCurve>
                      </gml:curveMember>
                      <!--Basal edge in reverse orientation -->
                      <gml:curveMember>
                        <gml:LineString gml:id="lt1-2">
                          <!--Left edge -->
                          <gml:posList srsDimension="2" srsName="#lsrs002">0 5 0 2</gml:posList>
                        </gml:LineString>
                      </gml:curveMember>
                    </gml:Ring>
                  </gml:exterior>
                </PlanarSurface>
              </representativeSurface>
            </PlanarObservationRepresentation>
          </location>
          <primaryLithology>
            <Lithology gml:id="tw1">
              <classificationCode codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/astmD2488.xml#SP">Poorly graded sand</classificationCode>
              <lithDescription>coarse sand</lithDescription>
            </Lithology>
          </primaryLithology>
        </LithologyObservation>
      </lithologyObservation>
      <lithologyObservation>
        <LithologyObservation gml:id="lst-h2">
          <location>
            <PlanarObservationRepresentation gml:id="li-2">
              <layerTopIntersection xlink:href="#twp-int-12"/>
              <layerBaseIntersection>
                <LinearExtent gml:id="twp-int-32" srsDimension="2" srsName="#lsrs002">
                      <gml:posList >0 6 10 6.5 20 8 30 7 40 6 50 5</gml:posList>
                    </LinearExtent>
              </layerBaseIntersection>
              <representativeSurface>
                <PlanarSurface gml:id="lt2-p">
                  <gml:exterior>
                    <gml:Ring>
                      <gml:curveMember xlink:href="#twp-int-12"/>
                      <!--Top edge -->
                      <gml:curveMember>
                        <gml:LineString gml:id="lt2-1">
                          <!--Left edge -->
                          <gml:posList srsDimension="2" srsName="#lsrs002">0 5 0 6</gml:posList>
                        </gml:LineString>
                      </gml:curveMember>
                      <gml:curveMember xlink:href="#twp-int-32"/>
                      <!--Basal edge -->
                      <gml:curveMember>
                        <gml:LineString gml:id="lt2-2">
                          <!--Right edge -->
                          <gml:posList srsDimension="2" srsName="#lsrs002">50 5 50 4</gml:posList>
                        </gml:LineString>
                      </gml:curveMember>
                    </gml:Ring>
                  </gml:exterior>
                </PlanarSurface>
              </representativeSurface>
            </PlanarObservationRepresentation>
          </location>
          <trueTopObserved>true</trueTopObserved>
          <trueBaseObserved>true</trueBaseObserved>
          <primaryLithology>
            <Lithology gml:id="tw2" xmlns:ns1="http://schemas.diggsml.org/2.0.b">
              <classificationCode codeSpace="https://diggsml.org/def/codes/DIGGS/0.1/astmD2488.xml#sML">Sandy silt</classificationCode>
              <lithDescription howDetermined="visual">grey sandy silt</lithDescription>
            </Lithology>
          </primaryLithology>
        </LithologyObservation>
</lithologyObservation>
    </LithologySystem>
</observation>

</Diggs>
